Let reach(a,b) = !( (!b) S (!a) );
Let reachThrough(a,b) = a & reach((a|b),b);

Let toExit = reachThrough(["white"],["green"]);
Let fromStartToExit = toExit & reachThrough(["white"],["blue"]);
Let startCanExit = reachThrough(["blue"],fromStartToExit);

Paint "yellow" toExit;
Paint "orange" fromStartToExit;
Paint "red" startCanExit;
